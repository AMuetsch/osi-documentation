

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Usage &mdash; Open Simulation Interface v3.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to write rules" href="writing-rules.html" />
    <link rel="prev" title="Installation Guide" href="setup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Open Simulation Interface
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Simulation Interface:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/README.html">Open Simulation Interface (OSI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/description.html">General description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/fileformat.html">OSI File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/coordinatesystem.html">Coordinate systems and reference points</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/interfaceconventions.html">Interface Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/commenting.html">Commenting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/doc/howtocontribute.html">Contributors’ Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../open-simulation-interface/library_root.html">OSI Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Validator:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">OSI Validator</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="description.html">General description</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="setup.html">Installation Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#understanding-validation-ouput">Understanding Validation Ouput</a></li>
<li class="toctree-l3"><a class="reference internal" href="#custom-rules">Custom Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="writing-rules.html">How to write rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howtocontribute.html">Contributors’ Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="osivalidator.html">Validator Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Visualizer:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../osi-visualizer/README.html">OSI Visualizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osi-visualizer/doc/panels.html">Panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osi-visualizer/doc/nvidia-docker.html">Nvidia Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osi-visualizer/doc/howtocontribute.html">Contributors’ Guidelines</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Sensor Model Packaging:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../osi-sensor-model-packaging/README.html">OSI Sensor Model Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osi-sensor-model-packaging/doc/specification.html">OSI Sensor Model Packaging Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../osi-sensor-model-packaging/doc/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Proto2Cpp:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../proto2cpp/README.html">Doxygen filter for Google Protocol Buffers .proto files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proto2cpp/README.html#version-history">Version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../proto2cpp/README.html#copyright">Copyright</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Open Simulation Interface</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="description.html">General description</a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/osi-validation/doc/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>After installation you can call the command <code class="docutils literal notranslate"><span class="pre">osivalidator</span></code> in your terminal which has the following usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage: osivalidator <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--rules RULES<span class="o">]</span>
                    <span class="o">[</span>--type <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}]</span>
                    <span class="o">[</span>--output OUTPUT<span class="o">]</span> <span class="o">[</span>--timesteps TIMESTEPS<span class="o">]</span> <span class="o">[</span>--debug<span class="o">]</span>
                    <span class="o">[</span>--verbose<span class="o">]</span> <span class="o">[</span>--parallel<span class="o">]</span> <span class="o">[</span>--format <span class="o">{</span>separated,None<span class="o">}]</span>
                    <span class="o">[</span>--blast BLAST<span class="o">]</span> <span class="o">[</span>--buffer BUFFER<span class="o">]</span>
                    data

Validate data defined at the input

positional arguments:
data                  Path to the file with OSI-serialized data.

optional arguments:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
--rules RULES, -r RULES
                        Directory with text files containig rules.
--type <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}</span>, -t <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}</span>
                        Name of the <span class="nb">type</span> used to serialize data.
--output OUTPUT, -o OUTPUT
                        Output folder of the log files.
--timesteps TIMESTEPS
                        Number of timesteps to analyze. If -1, all.
--debug               Set the debug mode to ON.
--verbose, -v         Set the verbose mode to ON.
--parallel, -p        Set parallel mode to ON.
--format <span class="o">{</span>separated,None<span class="o">}</span>, -f <span class="o">{</span>separated,None<span class="o">}</span>
                        Set the format <span class="nb">type</span> of the trace.
--blast BLAST, -bl BLAST
                        Set the <span class="k">in</span>-memory storage count of OSI messages during
                        validation.
--buffer BUFFER, -bu BUFFER
                        Set the buffer size to retrieve OSI messages from
                        trace file. Set it to <span class="m">0</span> <span class="k">if</span> you <span class="k">do</span> not want to use
                        buffering at all.
</pre></div>
</div>
<p>To run the validation first you need an OSI trace file which consists of multiple OSI messages.
In the directory <code class="docutils literal notranslate"><span class="pre">data</span></code> of the repository we already provide an example trace file which is called <code class="docutils literal notranslate"><span class="pre">small_test.txt.lzma</span></code> (a <a class="reference external" href="https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Markov_chain_algorithm">lzma</a> compressed trace file with the <code class="docutils literal notranslate"><span class="pre">$$__$$</span></code> separator which can/should be converted into an <code class="docutils literal notranslate"><span class="pre">*.osi</span></code> file). For decompressing lzma compressed files on linux machines run <code class="docutils literal notranslate"><span class="pre">lzma</span> <span class="pre">-d</span> <span class="pre">data/small_test.txt.lzma</span></code>.
Use the <a class="reference external" href="https://github.com/OpenSimulationInterface/open-simulation-interface/blob/master/format/txt2osi.py">txt2osi.py</a> of the OSI repo in the format directory to convert from <code class="docutils literal notranslate"><span class="pre">*.txt</span></code> to <code class="docutils literal notranslate"><span class="pre">*.osi</span></code> files or from <code class="docutils literal notranslate"><span class="pre">*.txt.lzma</span></code> to <code class="docutils literal notranslate"><span class="pre">*.osi.lzma</span></code>). See usage below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>usage: txt2osi converter <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--file FILE<span class="o">]</span>
                        <span class="o">[</span>--type <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}]</span>
                        <span class="o">[</span>--output OUTPUT<span class="o">]</span> <span class="o">[</span>--compress<span class="o">]</span>

Convert txt trace file to osi trace files.

optional arguments:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
--file FILE, -f FILE  Path to the file with serialized data.
--type <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}</span>, -t <span class="o">{</span>SensorView,GroundTruth,SensorData<span class="o">}</span>
                        Name of the <span class="nb">type</span> used to serialize data.
--output OUTPUT, -o OUTPUT
                        Output name of the file.
--compress, -c        Compress the output to a lzma file.
</pre></div>
</div>
<p>To validate the trace files you simply call <code class="docutils literal notranslate"><span class="pre">osivalidator</span></code> and provide the path to the trace:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>osivalidator --data data/small_test.osi.lzma
osivalidator --data data/small_test.txt.lzma
</pre></div>
</div>
<p>You can also validate the traces in parallel to increase the speed of the validation by providing <code class="docutils literal notranslate"><span class="pre">-p</span></code> flag:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>osivalidator --data data/small_test.osi.lzma -p
osivalidator --data data/small_test.txt.lzma -p
</pre></div>
</div>
<p>To validate trace files with rules defined in the comments of <code class="docutils literal notranslate"><span class="pre">*.proto</span></code> files in the open-simulation-interface repository first you need to generate them and then specify them:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python rules2yml.py <span class="c1"># Generates the rule directory</span>
osivalidator -r rules data/small_test.txt.lzma -p
</pre></div>
</div>
<p>After successfully running the validation the following output is generated:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For demonstration purposes a more complex trace file with 2718 OSI message was used in this example.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Instantiate logger ...
Reading data ...
Retrieving messages <span class="k">in</span> osi trace file <span class="k">until</span> <span class="m">1314997975</span> ...
<span class="p">|</span><span class="c1">################################| 1314997975/1314997975</span>
<span class="m">2718</span> messages has been discovered <span class="k">in</span> <span class="m">0</span>.8990724086761475 s
Collect validation rules ...

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 500/500</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">#####                           | 500/2718 [0:04:07]</span>
Closed pool!

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 500/500</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">###########                     | 1000/2718 [0:07:06]</span>
Closed pool!

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 500/500</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">#################               | 1500/2718 [0:09:09]</span>
Closed pool!

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 500/500</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">#######################         | 2000/2718 [0:12:34]</span>
Closed pool!

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 500/500</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">#############################   | 2500/2718 [0:17:05]</span>
Closed pool!

Caching ...
Importing messages from trace file ...
<span class="p">|</span><span class="c1">################################| 218/218</span>
Caching <span class="k">done</span>!
<span class="p">|</span><span class="c1">################################| 2718/2718 [0:17:54]</span>
Closed pool!


Errors <span class="o">(</span><span class="m">55</span><span class="o">)</span>
Ranges of timestamps                      Message
----------------------------------------  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.host_vehicle_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.version.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.timestamp.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.mounting_position.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.mounting_position_rmse.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.host_vehicle_data.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">498</span><span class="o">]</span>, <span class="o">[</span><span class="m">500</span>, <span class="m">998</span><span class="o">]</span>, <span class="o">[</span><span class="m">1000</span>, <span class="m">1498</span><span class="o">]</span>,       GroundTruth.country_code.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">1500</span>, <span class="m">1998</span><span class="o">]</span>, <span class="o">[</span><span class="m">2000</span>, <span class="m">2498</span><span class="o">]</span>, <span class="o">[</span><span class="m">2500</span>, <span class="m">2716</span><span class="o">]</span>
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseStationary.base_polygon.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object.base
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 StationaryObject.base.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object.base
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 StationaryObject.model_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.stationary_object.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleAttributes.number_wheels.is_greater_than_or_equal_to<span class="o">(</span><span class="m">1</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_attributes.number_wheels
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.vehicle_attributes.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_attributes
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.LightState.emergency_vehicle_illumination.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.LightState.service_vehicle_illumination.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.light_state.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.vehicle_classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseMoving.orientation_acceleration.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseMoving.base_polygon.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.base.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.model_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.moving_object.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.traffic_sign.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.traffic_light.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.road_marking.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 LaneBoundary.Classification.limiting_structure_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 LaneBoundary.classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.lane_boundary.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.lane_pairing.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.lane.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.occupant.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.atmospheric_pressure.is_greater_than_or_equal_to<span class="o">(</span><span class="m">80000</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions.atmospheric_pressure
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.temperature.is_greater_than_or_equal_to<span class="o">(</span><span class="m">170</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions.temperature
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.unix_timestamp.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions
<span class="o">[</span><span class="m">0</span>, <span class="m">498</span><span class="o">]</span>, <span class="o">[</span><span class="m">500</span>, <span class="m">998</span><span class="o">]</span>, <span class="o">[</span><span class="m">1000</span>, <span class="m">1498</span><span class="o">]</span>,       EnvironmentalConditions.fog.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions
<span class="o">[</span><span class="m">1500</span>, <span class="m">1998</span><span class="o">]</span>, <span class="o">[</span><span class="m">2000</span>, <span class="m">2498</span><span class="o">]</span>, <span class="o">[</span><span class="m">2500</span>, <span class="m">2716</span><span class="o">]</span>
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.environmental_conditions.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.proj_string.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.map_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.global_ground_truth.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.generic_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.radar_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.lidar_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.camera_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.ultrasonic_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="m">499</span>, <span class="m">999</span>, <span class="m">1499</span>, <span class="m">1999</span>, <span class="m">2499</span>, <span class="m">2717</span>          GroundTruth.country_code.is_iso_country_code<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.country_code

Warnings <span class="o">(</span><span class="m">7</span><span class="o">)</span>
Ranges of timestamps    Message
----------------------  ----------------------------------------------------------------------
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>               Several objects of <span class="nb">type</span> SensorView, MovingObject have the ID <span class="m">0</span>
<span class="o">[</span><span class="m">513</span>, <span class="m">641</span><span class="o">]</span>              Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">555</span>
<span class="m">513</span>, <span class="o">[</span><span class="m">571</span>, <span class="m">641</span><span class="o">]</span>         Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">454</span>
<span class="o">[</span><span class="m">504</span>, <span class="m">512</span><span class="o">]</span>              Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">444</span>
<span class="o">[</span><span class="m">642</span>, <span class="m">770</span><span class="o">]</span>              Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">666</span>
<span class="o">[</span><span class="m">643</span>, <span class="m">749</span><span class="o">]</span>              Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">667</span>
<span class="o">[</span><span class="m">642</span>, <span class="m">770</span><span class="o">]</span>              Several objects of <span class="nb">type</span> StationaryObject, MovingObject have the ID <span class="m">668</span>
</pre></div>
</div>
<p>The Output is a report of how many errors (here 55) and warnings (here 7) were found in the osi-message according to the defined rules in your specified rules directory. The rules can be found under the tag <code class="docutils literal notranslate"><span class="pre">\rules</span></code> in the *.proto files from the <a class="reference external" href="https://github.com/OpenSimulationInterface/open-simulation-interface">osi github</a> or in the <a class="reference external" href="https://github.com/OpenSimulationInterface/osi-validation/tree/master/requirements-osi-3">requirements folder</a> from osi-validation as *.yml files (for more information see <a class="reference internal" href="../../open-simulation-interface/doc/commenting.html#commenting"><span class="std std-ref">Commenting</span></a>).</p>
<p>Currently an error is thrown when a message is not valid or the fields inside the message are not set. A warning is thrown everything concerning ids. For each error and warning there is a description on which timestamp it was found, the path to the rule and the path to the osi-message is provided. The general format is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Errors <span class="o">(</span>NUMBER_ERRORS<span class="o">)</span>
Ranges of timestamps                Message
--------------------------------    --------------------------------------------------------
<span class="o">[</span>START_TIMESTAMP, END_TIMESTAMP<span class="o">]</span>    PATH_TO_RULE<span class="o">(</span>VALUE<span class="o">)</span> does not comply <span class="k">in</span> PATH_TO_OSI_FIELD

Warnings <span class="o">(</span>NUMBER_WARNINGS<span class="o">)</span>
Ranges of timestamps    Message
--------------------------------    --------------------------------------------------------
<span class="o">[</span>START_TIMESTAMP, END_TIMESTAMP<span class="o">]</span>    PATH_TO_RULE<span class="o">(</span>VALUE<span class="o">)</span> does not comply <span class="k">in</span> PATH_TO_OSI_FIELD
</pre></div>
</div>
</div>
<div class="section" id="understanding-validation-ouput">
<h2>Understanding Validation Ouput<a class="headerlink" href="#understanding-validation-ouput" title="Permalink to this headline">¶</a></h2>
<p>For easier understanding of the validation output let us use the example above and describe the meaning of the lines.
First of all one should know that the rules to the fields are checked in a <a class="reference external" href="https://en.wikipedia.org/wiki/Depth-first_search">depth-first-search</a> (DFS) traversal manner.
The validation starts with the <code class="docutils literal notranslate"><span class="pre">SensorView</span></code> Node and goes in depth if the message is set. For example the messages below are checked but do not go further in depth because they are not set (indicated by <code class="docutils literal notranslate"><span class="pre">is_set(None)</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.host_vehicle_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.version.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.timestamp.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.mounting_position.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.mounting_position_rmse.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.host_vehicle_data.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.generic_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.radar_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.lidar_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.camera_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.ultrasonic_sensor_view.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView
</pre></div>
</div>
<p>Since the <code class="docutils literal notranslate"><span class="pre">GlobalGroundTruth</span></code> in <code class="docutils literal notranslate"><span class="pre">SensorView</span></code> is set (<code class="docutils literal notranslate"><span class="pre">SensorView.global_ground_truth</span></code>) the next check is a test if it is valid.
A message is valid when all the fields in all the submessages comply to the rules. Hence the check for valid fields is performed recursively.
The validation output prints a non valid message (indicated by <code class="docutils literal notranslate"><span class="pre">is_valid(None)</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 SensorView.global_ground_truth.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
</pre></div>
</div>
<p>This is because at least one message field does not comply to the rules like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">498</span><span class="o">]</span>, <span class="o">[</span><span class="m">500</span>, <span class="m">998</span><span class="o">]</span>, <span class="o">[</span><span class="m">1000</span>, <span class="m">1498</span><span class="o">]</span>,       GroundTruth.country_code.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">1500</span>, <span class="m">1998</span><span class="o">]</span>, <span class="o">[</span><span class="m">2000</span>, <span class="m">2498</span><span class="o">]</span>, <span class="o">[</span><span class="m">2500</span>, <span class="m">2716</span><span class="o">]</span>
<span class="m">499</span>, <span class="m">999</span>, <span class="m">1499</span>, <span class="m">1999</span>, <span class="m">2499</span>, <span class="m">2717</span>          GroundTruth.country_code.is_iso_country_code<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.country_code
</pre></div>
</div>
<p>In the rules (<code class="docutils literal notranslate"><span class="pre">osi_groundtruth.yml</span></code>) we defined (*.yml files follow the same structure as *.proto file in OSI):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">GroundTruth</span><span class="p">:</span>
    <span class="nt">country_code</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_iso_country_code</span><span class="p">:</span>
</pre></div>
</div>
<p>This means if the field is not in the <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO country code</a> format an error will be thrown making <code class="docutils literal notranslate"><span class="pre">SensorView.global_ground_truth</span></code> invalid because <code class="docutils literal notranslate"><span class="pre">SensorView.global_ground_truth.country_code</span></code> is not set.
The incorrectness is appearing in the intervals between message frame 0 and message frame 498 but not in message frame 499. In the message frame 499 the <code class="docutils literal notranslate"><span class="pre">GroundTruth.country_code</span></code> is set but do not comply to the <code class="docutils literal notranslate"><span class="pre">is_iso_country_code</span></code> rule.
That is why you see split frame messages like this [0, 498], [500, 998] for not set and 499 for is not ISO country code.
Note that <code class="docutils literal notranslate"><span class="pre">GroundTruth.country_code</span></code> refers to the same path as <code class="docutils literal notranslate"><span class="pre">SensorView.global_ground_truth.country_code</span></code>.
The SensorView part is cut due to better readability.</p>
<p>In the output there are more message fields which are not set on the <code class="docutils literal notranslate"><span class="pre">GroundTruth</span></code> level making it invalid:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.proj_string.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.map_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.occupant.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.traffic_sign.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.traffic_light.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.road_marking.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth
</pre></div>
</div>
<p>Next the path <code class="docutils literal notranslate"><span class="pre">GroundTruth.environmental_conditions</span></code> is set but not valid leading to the output below (Note that the indentation demonstrates the hierarchy of the message fields):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.environmental_conditions.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.atmospheric_pressure.is_greater_than_or_equal_to<span class="o">(</span><span class="m">80000</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions.atmospheric_pressure
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.temperature.is_greater_than_or_equal_to<span class="o">(</span><span class="m">170</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions.temperature
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 EnvironmentalConditions.unix_timestamp.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions
    <span class="o">[</span><span class="m">0</span>, <span class="m">498</span><span class="o">]</span>, <span class="o">[</span><span class="m">500</span>, <span class="m">998</span><span class="o">]</span>, <span class="o">[</span><span class="m">1000</span>, <span class="m">1498</span><span class="o">]</span>,       EnvironmentalConditions.fog.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.environmental_conditions
    <span class="o">[</span><span class="m">1500</span>, <span class="m">1998</span><span class="o">]</span>, <span class="o">[</span><span class="m">2000</span>, <span class="m">2498</span><span class="o">]</span>, <span class="o">[</span><span class="m">2500</span>, <span class="m">2716</span><span class="o">]</span>
</pre></div>
</div>
<p>The output is generate because of the rules defined in <code class="docutils literal notranslate"><span class="pre">osi_environment.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">EnvironmentalConditions</span><span class="p">:</span>
    <span class="nt">ambient_illumination</span><span class="p">:</span>
    <span class="nt">time_of_day</span><span class="p">:</span>
    <span class="nt">unix_timestamp</span><span class="p">:</span>
    <span class="nt">atmospheric_pressure</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80000</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">120000</span>
    <span class="nt">temperature</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">170</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">340</span>
    <span class="nt">relative_humidity</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="nt">precipitation</span><span class="p">:</span>
    <span class="nt">fog</span><span class="p">:</span>
    <span class="nt">TimeOfDay</span><span class="p">:</span>
        <span class="nt">seconds_since_midnight</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">86400</span>
</pre></div>
</div>
<p>The rules state that the <code class="docutils literal notranslate"><span class="pre">EnvironmentalConditions.atmospheric_pressure</span></code> should be between 80000 Pa and 120000 Pa which is not the case for the trace (the used trace atmospheric_pressure is set to zero).
The same goes for the temprature.</p>
<p>The validation output reads for the other fields the same way as for the example above (indentation and ordering was added manually for readability):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.lane_boundary.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 LaneBoundary.classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 LaneBoundary.Classification.limiting_structure_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane_boundary.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.lane.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.right_adjacent_lane_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.free_lane_boundary_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.lane_pairing.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.check_if.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.check_if<span class="o">([{</span><span class="s1">&#39;is_different_to&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;target&#39;</span>: <span class="s1">&#39;this.type&#39;</span><span class="o">}])</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 Lane.Classification.left_adjacent_lane_id.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.lane.classification
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.moving_object.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.vehicle_attributes.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_attributes
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleAttributes.number_wheels.is_greater_than_or_equal_to<span class="o">(</span><span class="m">1</span><span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_attributes.number_wheels
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.base.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseMoving.orientation_acceleration.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseMoving.base_polygon.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.base
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.vehicle_classification.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.LightState.emergency_vehicle_illumination.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.light_state.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
            <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.VehicleClassification.LightState.service_vehicle_illumination.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object.vehicle_classification.light_state
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 MovingObject.model_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.moving_object
<span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 GroundTruth.stationary_object.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 StationaryObject.model_reference.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object
    <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 StationaryObject.base.is_valid<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object.base
        <span class="o">[</span><span class="m">0</span>, <span class="m">2717</span><span class="o">]</span>                                 BaseStationary.base_polygon.is_set<span class="o">(</span>None<span class="o">)</span> does not comply <span class="k">in</span> SensorView.global_ground_truth.stationary_object.base
</pre></div>
</div>
</div>
<div class="section" id="custom-rules">
<h2>Custom Rules<a class="headerlink" href="#custom-rules" title="Permalink to this headline">¶</a></h2>
<p>Currently the following rules exist:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">is_greater_than</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">is_less_than_or_equal_to</span><span class="p">:</span> <span class="mi">10</span>
<span class="n">is_less_than</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">is_equal</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">is_different</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">is_globally_unique</span>
<span class="n">refers_to</span><span class="p">:</span> <span class="n">MovingObject</span>
<span class="n">is_iso_country_code</span><span class="p">:</span>
<span class="n">first_element</span><span class="p">:</span> <span class="p">{</span><span class="n">is_equal</span><span class="p">:</span> <span class="mf">0.13</span><span class="p">,</span> <span class="n">is_greater_than</span><span class="p">:</span> <span class="mf">0.13</span><span class="p">}</span>
<span class="n">last_element</span><span class="p">:</span> <span class="p">{</span><span class="n">is_equal</span><span class="p">:</span> <span class="mf">0.13</span><span class="p">,</span> <span class="n">is_greater_than</span><span class="p">:</span> <span class="mf">0.13</span><span class="p">}</span>
<span class="n">check_if</span><span class="p">:</span> <span class="p">[{</span><span class="n">is_equal</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">is_greater_than</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">this</span><span class="o">.</span><span class="n">y</span><span class="p">},</span> <span class="p">{</span><span class="n">do_check</span><span class="p">:</span> <span class="p">{</span><span class="n">is_equal</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">is_less_than</span><span class="p">:</span> <span class="mi">3</span><span class="p">}}]</span>
</pre></div>
</div>
<p>These rules can be added manually to the rules *.yml files like in the example of the environmental conditions below (see <a class="reference internal" href="writing-rules.html#how-to-write-rules"><span class="std std-ref">How to write rules</span></a> for more):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">EnvironmentalConditions</span><span class="p">:</span>
    <span class="nt">ambient_illumination</span><span class="p">:</span>
    <span class="nt">time_of_day</span><span class="p">:</span>
    <span class="nt">unix_timestamp</span><span class="p">:</span>
    <span class="nt">atmospheric_pressure</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80000</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">120000</span>
    <span class="nt">temperature</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">170</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">340</span>
    <span class="nt">relative_humidity</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
    <span class="nt">precipitation</span><span class="p">:</span>
    <span class="nt">fog</span><span class="p">:</span>
    <span class="nt">TimeOfDay</span><span class="p">:</span>
        <span class="nt">seconds_since_midnight</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_greater_than_or_equal_to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="p p-Indicator">-</span> <span class="nt">is_less_than</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">86400</span>
</pre></div>
</div>
<p>Further custom rules can be implemented into the osi-validator (see <a class="reference external" href="https://opensimulationinterface.github.io/osi-documentation/osi-validation/doc/osivalidator.html#module-osivalidator.osi_rules_implementations">rules implementation</a> for more).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="writing-rules.html" class="btn btn-neutral float-right" title="How to write rules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="setup.html" class="btn btn-neutral float-left" title="Installation Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, ASAM e.V..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>